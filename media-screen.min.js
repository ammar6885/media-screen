(function(n,e){"function"==typeof define&&define.amd?define([],function(){return e()}):"undefined"!=typeof module&&"object"==typeof exports?module.exports=e():void 0!==n&&(n.MediaScreen=e())})(this||window,function(){function n(n){return n===window?{width:n.innerWidth,height:n.innerHeight}:{width:n.offsetWidth,height:n.offsetHeight}}function e(n,e,i){return g.condition="gt",g.limit=n,g.once=!e,g.elseOnce=!i,b}function i(n,e,i){return g.condition="lt",g.limit=n,g.once=!e,g.elseOnce=!i,b}function t(n,e,i,t){return g.condition="in",g.low=n,g.high=e,g.once=!i,g.elseOnce=!t,b}function o(n,e,i,t){return g.condition="out",g.low=n,g.high=e,g.once=!i,g.elseOnce=!t,b}function c(n,e){return g.condition="landscape",g.once=!n,g.elseOnce=!e,g.dimension="_",b}function l(n,e){return g.condition="portrait",g.once=!n,g.elseOnce=!e,g.dimension="_",b}function r(){return g.dimension=g.dimension||"both",g.condition="always",g.size="all",g.once=!1,b}function u(){return g.dimension="width",k}function h(){return g.dimension="height",k}function d(){return g.dimension="both",O}function a(e){var i=n(e.elm),t=e.condition,o=e.dimension,c=i.width!==e.width,l=i.height!==e.height,r="_"!==o?i[o]:i.width;!c&&!l||"width"===o&&!c||"height"===o&&!l||(q[t](r,e.limit,e.low,e.high,i.height,e[o])?e.once&&!e.done?(e.callback.call(e.elm,i),e.done=!0):e.once||e.callback.call(e.elm,i):(e.else&&(e.elseOnce&&e.done?e.else.call(e.elm,i):e.elseOnce||e.else.call(e.elm,i)),e.done=!1),e.width=i.width,e.height=i.height)}function s(n){return n=n?"string"==typeof n?document.querySelectorAll(n):n:[window],g.elm=n.length?n:[n],p||requestAnimationFrame(m),p=!0,v}function f(){for(var n=0;n<w.length;n++)a(w[n])}function m(){requestAnimationFrame(m),f()}var w=[],g={},p=!1,y={MediaScreen:s},O={always:this.always},b={then:function(e,i){return[].forEach.call(g.elm,function(t){var o=n(t);w.push({condition:g.condition,elm:t,limit:g.limit,low:g.low,high:g.high,once:g.once,elseOnce:g.elseOnce,callback:e,else:i,done:!1,dimension:g.dimension||"width",width:o.width,height:o.height})}),g={},y}},v={gt:e,lt:i,in:t,out:o,landscape:c,portrait:l,always:r,width:u,height:h,both:d},k={gt:e,lt:i,in:t,out:o,landscape:c,portrait:l,always:r},q={gt:function(n,e){return n>e},lt:function(n,e){return n<e},in:function(n,e,i,t){return n>i&&n<t},out:function(n,e,i,t){return n<i||n>t},landscape:function(n,e,i,t,o){return n>o},portrait:function(n,e,i,t,o){return n<o},always:function(n,e,i,t,o,c){return!n||n!==c}};return s});